<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" type="image/x-icon" href="../assets/img/favicon.ico">

  <title>chart</title>
  <link rel="stylesheet" href="../assets/css/style.css">
  
  <link rel="stylesheet" href="../assets/css/billboard.min.css">

  <script src="../assets/js/jquery.js"></script>
  <script src="../assets/js/front.js"></script>
  <script src="../assets/js/chart.js"></script>
  
  <script src="../assets/js/billboard.min.js"></script>
  <script src="../assets/js/billboard.pkgd.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>

</head>
<body>

    <div id="chart_div"></div>
    <div id="donut_single"></div>
 
    <div id="chart"></div>
    <div id="gaugeChart"></div>

    <canvas id="myChart"></canvas>

<script>


    const ctx = document.getElementById('myChart').getContext("2d");
    var gradientStroke = ctx.createLinearGradient(0, 0, 200, 200);
    gradientStroke.addColorStop(0, "#C3C3C3");
    gradientStroke.addColorStop(1, "#fff");

    

    Chart.register(ChartDataLabels);

    new Chart(ctx, {
        type: 'bar',
        data: {
            datasets: [
                // {
                //     type: 'bar',
                //     label: 'Bar Dataset',
                //     data: [10, 20, 30, 40]
                // },
                {
                    type: 'line',
                    label: '급감속',
                    data: [31, 34, 23, 45, 30, 26],
                    backgroundColor: '#9C9C9C',
                    borderColor: '#9C9C9C',
                    borderWidth: 1,
                    datalabels: {
                        align: 'top',
                        textAlign: 'start',
                        color: '#656565',
                    }
                },
                {
                    type: 'bar',
                    label: '급가속',
                    data: [10, 12, 7, 15, 12, 10],
                    barThickness: 20,
                    backgroundColor: [
                        gradientStroke,
                        gradientStroke,
                        gradientStroke,
                        gradientStroke,
                        gradientStroke,
                        'rgba(177, 164, 255, 1)'
                    ],
                    borderRadius: 9999,
                        datalabels: {
                            align: 'top',
                            textAlign: 'start',
                            color: '#656565',
                        }
                }
            ],
            labels: ['12월', '1월', '2월', '3월', '4월', '당월']
        },
        datalabels: {
            color:'black',
            font:{size:24}
        },
        options: {
            plugins:{
                datalabels: {
                    color: '#656565',
                }
            },
            legend: {
                display: false,
            },
            tooltips: {
                callbacks: {
                    label: function(tooltipItem){
                        return tooltipItem.yLabel;
                    }
                },
				enabled: false
			},
            hover: {
				animationDuration: 0
			},
            // animation: {
			// 	// duration: 1,
			// 	onComplete: function () {
			// 		var chartInstance = this.chart,
			// 			ctx = chartInstance.ctx;
            //             ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
            //             ctx.fillStyle = 'purple';
            //             ctx.textAlign = 'center';
            //             ctx.textBaseline = 'bottom';

			// 		this.data.datasets.forEach(function (dataset, i) {
			// 			var meta = chartInstance.controller.getDatasetMeta(i);
			// 			meta.data.forEach(function (bar, index) {
			// 				var data = dataset.data[index];							
			// 				ctx.fillText(data, bar._model.x, bar._model.y - 5);
			// 			});
			// 		});
			// 	}
			// },
            // scales: {
			// 	yAxes: [{
			// 		ticks: {
			// 			beginAtZero: true,
			// 			stepSize : 2,
			// 			fontSize : 14,
			// 		}
			// 	}]
			// }
        }
    });







    var chart = bb.generate({
        data: {
            columns: [
                ["data", 0]
            ],
            type: "gauge", // for ESM specify as: gauge()
            onclick: function(d, i) {
                console.log("onclick", d, i);
            },
                onover: function(d, i) {
                console.log("onover", d, i);
            },
                onout: function(d, i) {
                console.log("onout", d, i);
            }
        },
        arc: {
            cornerRadius: 15
        },
        gauge: {
            type: "single",
            max: 100,
            min: 0,
            fullCircle: true,
            arcLength: 100,
            label: {
                extents: function() { return ""; }
            },
            startingAngle: 0,
            width: 24,
        },
        color: {
            pattern: [
                "#FF0000",
                "#F97600",
                "#F6C600",
                "#60B044"
            ],
            threshold: {
                values: [
                    30,
                    60,
                    90,
                    100
                ]
            }
        },
        size: {
            height: 180
        },
        bindto: "#gaugeChart"
    });

    setTimeout(function() {
        chart.load({
            columns: [
                ["data", 72]
            ],
        });
    }, 2);








    google.charts.load('current', {'packages':['corechart']});

    // Set a callback to run when the Google Visualization API is loaded.
    google.charts.setOnLoadCallback(drawChart);
    google.charts.setOnLoadCallback(drawChart2);

    // Callback that creates and populates a data table,
    // instantiates the pie chart, passes in the data and
    // draws it.
    function drawChart() {

        // Create the data table.
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Topping');
        data.addColumn('number', 'Slices');
        data.addRows([
        ['Mushrooms', 3],
        ['Onions', 1],
        ['Olives', 1],
        ['Zucchini', 1],
        ['Pepperoni', 2]
        ]);

        // Set chart options
        var options = {'title':'How Much Pizza I Ate Last Night',
                        'width':400,
                        'height':300};

        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
        chart.draw(data, options);
    }



    function drawChart2() {

        var data = google.visualization.arrayToDataTable([
            ['Effort', 'Amount given'],
            ['My all',     100],
        ]);

        var options = {
            pieHole: 0.5,
            pieSliceTextStyle: {
                color: 'black',
            },
            legend: 'none',
            chartArea: {left:0, top:0, width:'50%', height:'75%'}
        };

        var chart = new google.visualization.PieChart(document.getElementById('donut_single'));
        chart.draw(data, options);
    }



</script>
</body>
</html>